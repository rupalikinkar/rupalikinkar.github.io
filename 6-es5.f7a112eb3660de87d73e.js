function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(n,e,t){"use strict";t.r(e),t.d(e,"AuthModule",(function(){return w}));var i,o,r=t("fXoL"),s=t("qXBG"),a=t("tyNb"),c=t("ofXK"),l=((o=function(){function n(){_classCallCheck(this,n),this.close=new r.n}return _createClass(n,[{key:"onClose",value:function(){this.close.emit()}}]),n}()).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=r.Db({type:o,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(n,e){1&n&&(r.Mb(0,"div",0),r.Ub("click",(function(){return e.onClose()})),r.Lb(),r.Mb(1,"div",1),r.Mb(2,"p"),r.gc(3),r.Lb(),r.Mb(4,"div",2),r.Mb(5,"button",3),r.Ub("click",(function(){return e.onClose()})),r.gc(6," Close "),r.Lb(),r.Lb(),r.Lb()),2&n&&(r.zb(3),r.hc(e.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.76);z-index:50}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:20vw;width:60vw;padding:16px;z-index:100;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.76)}.alert-box-actions[_ngcontent-%COMP%]{text-align:right}"]}),o),b=((i=function n(){_classCallCheck(this,n)}).\u0275fac=function(n){return new(n||i)},i.\u0275cmp=r.Db({type:i,selectors:[["app-loading-spinner"]],decls:1,vars:0,consts:[[1,"lds-dual-ring"]],template:function(n,e){1&n&&r.Kb(0,"div",0)},styles:['.lds-dual-ring[_ngcontent-%COMP%]{display:inline-block;width:80px;height:80px}.lds-dual-ring[_ngcontent-%COMP%]:after{content:" ";display:block;width:64px;height:64px;margin:8px;border-radius:50%;border-color:#2102cf transparent;border-style:solid;border-width:6px;-webkit-animation:lds-dual-ring 1.2s linear infinite;animation:lds-dual-ring 1.2s linear infinite}@-webkit-keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-dual-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),i),u=t("3Pt+");function d(n,e){if(1&n){var t=r.Nb();r.Mb(0,"app-alert",5),r.Ub("close",(function(){return r.cc(t),r.Wb().onHandleError()})),r.Lb()}if(2&n){var i=r.Wb();r.Xb("message",i.error)}}function f(n,e){1&n&&(r.Mb(0,"div",6),r.Kb(1,"app-loading-spinner"),r.Lb())}function p(n,e){if(1&n){var t=r.Nb();r.Mb(0,"form",7,8),r.Ub("ngSubmit",(function(){r.cc(t);var n=r.bc(1);return r.Wb().onSubmit(n)})),r.Mb(2,"div",9),r.Mb(3,"label",10),r.gc(4,"E-Mail"),r.Lb(),r.Kb(5,"input",11),r.Lb(),r.Mb(6,"div",9),r.Mb(7,"label",12),r.gc(8,"Password"),r.Lb(),r.Kb(9,"input",13),r.Lb(),r.Mb(10,"div"),r.Mb(11,"button",14),r.gc(12),r.Lb(),r.Mb(13,"button",15),r.Ub("click",(function(){return r.cc(t),r.Wb().onSwitchMode()})),r.gc(14),r.Lb(),r.Lb(),r.Lb()}if(2&n){var i=r.bc(1),o=r.Wb();r.zb(11),r.Xb("disabled",!i.valid),r.zb(1),r.ic(" ",o.isLoginMode?"Login":"Sign Up",""),r.zb(2),r.ic(" Switch to ",o.isLoginMode?"Sign Up":"Login","")}}var g,h,m=((g=function(){function n(e,t){_classCallCheck(this,n),this.authService=e,this.router=t,this.isLoginMode=!0,this.isLoading=!1,this.error=null}return _createClass(n,[{key:"onSwitchMode",value:function(){this.isLoginMode=!this.isLoginMode}},{key:"onSubmit",value:function(n){var e=this,t=n.value.email,i=n.value.password;n.valid&&(this.isLoading=!0,(this.isLoginMode?this.authService.login(t,i):this.authService.signUp(t,i)).subscribe((function(n){console.log(n),e.isLoading=!1,e.router.navigate(["/recipes"])}),(function(n){console.log(n),e.error=n,e.isLoading=!1})),n.reset())}},{key:"onHandleError",value:function(){this.error=null}},{key:"ngOnDestroy",value:function(){this.closeSub&&this.closeSub.unsubscribe()}}]),n}()).\u0275fac=function(n){return new(n||g)(r.Jb(s.a),r.Jb(a.c))},g.\u0275cmp=r.Db({type:g,selectors:[["app-auth"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"message","close",4,"ngIf"],["style","text-align: center;",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[3,"message","close"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,e){1&n&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.fc(2,d,1,1,"app-alert",2),r.fc(3,f,2,0,"div",3),r.fc(4,p,15,3,"form",4),r.Lb(),r.Lb()),2&n&&(r.zb(2),r.Xb("ngIf",e.error),r.zb(1),r.Xb("ngIf",e.isLoading),r.zb(1),r.Xb("ngIf",!e.isLoading))},directives:[c.i,l,b,u.u,u.m,u.n,u.a,u.l,u.o,u.s,u.b,u.k],encapsulation:2}),g),v=t("PCNd"),w=((h=function n(){_classCallCheck(this,n)}).\u0275mod=r.Hb({type:h}),h.\u0275inj=r.Gb({factory:function(n){return new(n||h)},imports:[[c.b,u.j,a.f.forChild([{path:"",component:m}]),v.a]]}),h)}}]);